(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0db216f7"],{"3e3c":function(t,e,n){},"699e":function(t,e,n){"use strict";var o=n("98b8"),i=n.n(o);i.a},"6dbf":function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"convert-to-request"},[n("el-card",{staticClass:"main"},[n("label-item",{scopedSlots:t._u([{key:"icon",fn:function(){return[n("svg-icon",{attrs:{"icon-class":"clear",title:"清除"},on:{click:t.init}})]},proxy:!0}])},[n("span",[t._v("输入 "),n("i",{staticClass:"el-icon-warning-outline",on:{click:function(e){t.dialogVisible=!0}}})])]),n("el-input",{staticClass:"request-input",attrs:{type:"textarea",autosize:{minRows:1,maxRows:5},placeholder:"请输入 Curl 命令 或 Fiddler raw 格式文本",autofocus:""},model:{value:t.requestText,callback:function(e){t.requestText=e},expression:"requestText"}}),n("label-item",{scopedSlots:t._u([{key:"icon",fn:function(){return[n("svg-icon",{attrs:{"icon-class":"clipboard",title:"复制"},on:{click:t.copyCode}}),n("svg-icon",{attrs:{"icon-class":"play",title:"运行"},on:{click:t.runCode}})]},proxy:!0}])},[n("span",[t._v("转换结果")])]),n("python-edit",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{"element-loading-text":"正在加载，请稍后...","element-loading-background":"rgba(0, 0, 0, 0.5)",content:t.initCode},on:{editChange:t.updateCode}}),t.runData.status&&!t.clear?n("div",[n("label-item",[n("span",[t._v("运行结果")])]),n("ResultTabls",{attrs:{data:t.runData}})],1):t._e(),t.runData.print_out&&!t.clear?n("div",[n("label-item",[n("span",[t._v("打印输出")])]),n("el-alert",{attrs:{type:"info",closable:!1,description:t.runData.print_out}})],1):t._e()],1),n("el-dialog",{attrs:{title:"帮助说明",visible:t.dialogVisible,width:"60%",center:""},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("VueMarkdown",{staticClass:"help",attrs:{anchorAttributes:{target:"_blank"}}},[t._v(t._s(t.helpText))]),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("我知道了")])],1)],1)],1)},i=[],a=(n("498a"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"label-item"},[n("div",{staticClass:"label"},[t._t("default")],2),n("div",{staticClass:"icon"},[t._t("icon")],2)])}),s=[],r={name:"LabelItem"},c=r,l=(n("f8cd"),n("2877")),u=Object(l["a"])(c,a,s,!1,null,"1b6ab65a",null),d=u.exports,p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("VueAceEditor",{ref:"python-editor",attrs:{height:"100%",content:t.content,options:{enableBasicAutocompletion:!0,enableSnippets:!0,enableLiveAutocompletion:!0,tabSize:4,showPrintMargin:!1,showLineNumbers:!1,showGutter:!1,minLines:12,maxLines:30},fontSize:16,lang:"python",theme:"monokai"},on:{onChange:t.onChange,init:t.editorInit}})},h=[],b=n("11f7"),g={name:"PythonEdit",props:{content:{type:String}},components:{VueAceEditor:b["a"]},methods:{editorInit:function(){n("2099"),n("8882"),n("8ef6"),n("14d4")},onChange:function(t){this.$emit("editChange",t.getValue())}}},f=g,m=Object(l["a"])(f,p,h,!1,null,"75bf3f36",null),v=m.exports,y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-tabs",{staticClass:"tabs",model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},[n("el-tab-pane",{attrs:{label:"Body",name:"Body"}},[n("div",{staticClass:"options"},[n("el-radio-group",{attrs:{size:"mini"},model:{value:t.bodyOption,callback:function(e){t.bodyOption=e},expression:"bodyOption"}},[n("el-radio-button",{attrs:{label:"Pretty"}}),n("el-radio-button",{attrs:{label:"Raw"}})],1),n("span",{staticClass:"icon"},[n("svg-icon",{attrs:{"icon-class":"clipboard",title:"复制"},on:{click:t.copyText}})],1)],1),n("div",{staticClass:"body-content"},[n("JsonStaticHighlight",{attrs:{content:t.bodyContent}})],1)]),n("el-tab-pane",{attrs:{label:"Headers",name:"Headers"}},[n("div",{staticClass:"options"},[n("span",{staticClass:"icon"},[n("svg-icon",{attrs:{"icon-class":"clipboard",title:"复制"},on:{click:t.copyText}})],1)]),n("JsonStaticHighlight",{attrs:{content:t.headersContent}})],1),n("el-tab-pane",{attrs:{name:"Cookies"}},[n("span",{attrs:{slot:"label"},slot:"label"},[t._v(" Cookies "),Object.keys(t.data.cookies).length?n("el-badge",{attrs:{"is-dot":"",type:"success"}}):t._e()],1),n("div",{staticClass:"options"},[n("span",{staticClass:"icon"},[n("svg-icon",{attrs:{"icon-class":"clipboard",title:"复制"},on:{click:t.copyText}})],1)]),n("JsonStaticHighlight",{attrs:{content:t.cookiesContent}})],1),n("el-tab-pane",{attrs:{disabled:""}},[n("span",{attrs:{slot:"label"},slot:"label"},t._l(t.info,(function(e,o){return n("span",{key:o,staticClass:"info"},[t._v(" "+t._s(o.charAt(0).toUpperCase()+o.slice(1))+": "),n("span",{staticClass:"info-value"},[t._v(t._s(e))])])})),0)])],1)},C=[],k=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("VueStaticHighlight",{staticClass:"static-highlight",attrs:{height:"100%",content:t.content,options:{showPrintMargin:!1,showLineNumbers:!1,showGutter:!1,highlightActiveLine:!1,minLines:2,maxLines:30},fontSize:16,lang:"json",theme:"xcode",readonly:!0,gutter:!1},on:{init:t.editorInit}})},x=[],_={name:"JsonStaticHighlight",props:{content:{type:String,default:""}},components:{VueStaticHighlight:b["a"]},methods:{editorInit:function(){n("818b"),n("b5a8")}}},w=_,j=(n("a8d4"),Object(l["a"])(w,k,x,!1,null,"0af7e628",null)),T=j.exports,S=n("f71e"),O={name:"Tabls",props:{data:{type:Object}},components:{JsonStaticHighlight:T},data:function(){return{activeTab:"Body",bodyOption:"Pretty"}},computed:{info:function(){var t=this.data,e=t.status,n=t.method,o=t.elapsed;return{status:e,time:o,method:n}},bodyContent:function(){if("Pretty"!==this.bodyOption)return this.data.text;try{var t=JSON.parse(this.data.text);return this.jsonStringify(t)}catch(e){return this.data.text}},headersContent:function(){return this.jsonStringify(this.data.headers)},cookiesContent:function(){return this.jsonStringify(this.data.cookies)},currentContent:function(){var t={Body:this.bodyContent,Headers:this.headersContent,Cookies:this.cookiesContent};return t[this.activeTab]}},methods:{jsonStringify:function(t){return JSON.stringify(t,null,4)},copyText:function(t){Object(S["a"])(this.currentContent,t)}}},q=O,P=(n("fba9"),Object(l["a"])(q,y,C,!1,null,"e2e25570",null)),L=P.exports,V=(n("d3b7"),n("bc3a")),H=n.n(V),$=n("5c96"),E={baseURL:"https://mocobk.pythonanywhere.com",timeout:1e4},J=H.a.create(E);J.interceptors.request.use((function(t){return t}),(function(t){return Promise.reject(t)})),J.interceptors.response.use((function(t){return t.data}),(function(t){if(console.log(t),!t.response)return Object($["Message"])({message:"连接超时，请检查你的网络！",type:"error",duration:5e3}),Promise.reject(t);var e=t.response.data;return 500===t.response.status&&console.log("something error"),Object($["Message"])({message:e.message||"出错啦！",type:"error",duration:5e3}),Promise.reject(t)}));var R=function(){var t=0;return function(e,n){clearTimeout(t),t=setTimeout(e,n)}}(),M=J;function A(t){return M({url:"/tools/convert2req",method:"post",data:{request:t}})}function D(t){return M({url:"/tools/convert2req/run",method:"post",data:{code:t}})}var I=n("9ce6"),z=n.n(I),B="\r\nConvert2PyRequest 在线工具可以将 curl 请求 或 Fiddler 抓包工具捕获的请求快速转换成 Python requests 脚本，同时支持在线运行、修改。\r\n\r\n<br>\r\n\r\n* 前端源码： https://github.com/mocobk/MonlineWeb\r\n* 后端源码： https://github.com/mocobk/MonlineServer\r\n<br>\r\n\r\n### 转换浏览器中的请求\r\n\r\n1\\. 按 F12 打开浏览器开发者工具\r\n\r\n2\\. 进行页面操作，找到需要转换的请求\r\n\r\n![](http://mocobk.test.upcdn.net/image/20200703135205324.jpg)\r\n\r\n\r\n3\\. 右键复制为 cURL(bash) 命令\r\n\r\n![](http://mocobk.test.upcdn.net/image/20200703135310293.jpg)\r\n\r\n\r\n4\\. 粘贴到工具中的输入框，将自动转换输出 Python 脚本\r\n\r\n![](http://mocobk.test.upcdn.net/image/20200703140223073.jpg)\r\n\r\n### 转换 Fiddler 中的请求\r\n\r\n![](http://mocobk.test.upcdn.net/image/20200703142449396.jpg)\r\n\r\n![](http://mocobk.test.upcdn.net/image/20200703142546625.jpg)\r\n\r\n\r\n",N={name:"Convert2Request",components:{LabelItem:d,PythonEdit:v,ResultTabls:L,VueMarkdown:z.a},data:function(){return{requestText:"",initCode:"# -*- coding:utf-8 -*-\n",code:"",runData:{headers:{},text:"",cookies:{},status:null,elapsed:0,method:null,image:"",print_out:""},loading:!1,clear:!1,helpText:B,dialogVisible:!1}},watch:{requestText:function(t){t.length>20&&R(this.getCode,300)}},methods:{init:function(){this.requestText="",this.initCode="",this.code="",this.clear=!0,this.loading=!1},copyCode:function(t){Object(S["a"])(this.code,t)},updateCode:function(t){this.code=t},getCode:function(){var t=this;this.loading=!0,A(this.requestText).then((function(e){t.initCode=e.code,t.code=e.code,t.loading=!1}))},runCode:function(){var t=this;this.code.trim()?(this.loading=!0,D(this.code).then((function(e){t.runData=e,t.loading=!1,t.clear=!1}))):this.$message({message:"运行代码不能为空",type:"warning",duration:1500})}}},F=N,U=(n("699e"),Object(l["a"])(F,o,i,!1,null,"7531c225",null));e["default"]=U.exports},9186:function(t,e,n){},"98b8":function(t,e,n){},a8d4:function(t,e,n){"use strict";var o=n("bb94"),i=n.n(o);i.a},bb94:function(t,e,n){},f71e:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var o=n("2b0e"),i=n("b311"),a=n.n(i);function s(){o["default"].prototype.$message({message:"复制成功！",type:"success",duration:1500})}function r(){o["default"].prototype.$message({message:"复制失败！",type:"warning",duration:1500})}function c(){o["default"].prototype.$message({message:"复制失败！内容为空",type:"warning",duration:1500})}function l(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r;""===t&&c();var i=new a.a(document.body,{text:function(){return t}});i.on("success",(function(){n(),i.destroy()})),i.on("error",(function(){o(),i.destroy()})),i.onClick(e)}},f8cd:function(t,e,n){"use strict";var o=n("9186"),i=n.n(o);i.a},fba9:function(t,e,n){"use strict";var o=n("3e3c"),i=n.n(o);i.a}}]);